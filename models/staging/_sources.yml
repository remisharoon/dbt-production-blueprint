version: 2

sources:
  - name: raw
    description: "Raw seed data simulating source extracts from operational systems."
    database: "{{ target.database }}"
    schema: raw
    tables:
      - name: raw_customers
        description: "Customer master data with intentional quality issues for staging cleanup."
        columns:
          - name: customer_id
            tests:
              - not_null
          - name: email
            tests:
              - dbt_expectations.expect_column_values_to_be_of_type:
                  column_type: varchar

      - name: raw_orders
        description: "Order headers with status, totals, and soft-delete flags."
        columns:
          - name: order_id
            tests:
              - not_null
          - name: customer_id
            tests:
              - not_null

      - name: raw_payments
        description: "Payment transactions captured from payment providers."
        columns:
          - name: payment_id
            tests:
              - not_null
          - name: order_id
            tests:
              - not_null
